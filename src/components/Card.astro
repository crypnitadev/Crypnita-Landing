---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

export interface Props {
  title: string;
  description: string;
  imagePath?: string;
  altText: string;
}

const { title, description, imagePath, altText } = Astro.props as {
  title: string;
  description: string;
  imagePath: string;
  altText: string;
};
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/*/*.{jpeg,jpg,png,gif}"
);
if (!images[imagePath])
  throw new Error(
    `"${imagePath}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`
  );
---

<div
  class="flex flex-col gap-10 md:flex-row md:gap-20 rounded-4xl border-white border-1 items-center p-5 max-w-300 mx-auto items-start"
>
  <div class="font-poppins text-white text-center text-left md:w-150 md:p-5">
    <h2 class="font-bold text-2xl md:text-[30px]">{title}</h2>
    <p class="mt-2 md:text-[20px]" set:html={description} />
  </div>
  <div>
    <Image src={images[imagePath]()} alt={altText} />
  </div>
</div>
